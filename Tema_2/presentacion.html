<!DOCTYPE html>
<html lang="es"><head>
<script src="presentacion_files/libs/clipboard/clipboard.min.js"></script>
<script src="presentacion_files/libs/quarto-html/tabby.min.js"></script>
<script src="presentacion_files/libs/quarto-html/popper.min.js"></script>
<script src="presentacion_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="presentacion_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="presentacion_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="presentacion_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="presentacion_files/libs/quarto-contrib/reveal-auto-agenda-0.0.3/reveal-auto-agenda.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.25">

  <meta name="author" content="Shu Wei Chou Chen">
  <title>Tema 2: Descomposición de series temporales</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="presentacion_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="presentacion_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="presentacion_files/libs/revealjs/dist/theme/quarto-829c66079de1ba6dba869a367cd4b667.css">
  <link href="presentacion_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="presentacion_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="presentacion_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="presentacion_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="presentacion_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="presentacion_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Tema 2: Descomposición de series temporales</h1>
  <p class="subtitle"><a href="https://swchouchen.github.io/series">Curso: Análisis de series temporales</a></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<a href="https://swchouchen.github.io">Shu Wei Chou Chen</a> <a href="https://orcid.org/0000-0001-5495-2486" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a>
</div>
<div class="quarto-title-author-email">
<a href="mailto:shuwei.chou@ucr.ac.cr">shuwei.chou@ucr.ac.cr</a>
</div>
        <p class="quarto-title-affiliation">
            <a href="https://www.estadistica.ucr.ac.cr/">
            Escuela de Estadística, Universidad de Costa Rica
            </a>
          </p>
    </div>
</div>

</section>
<section id="paquetes-de-r" class="slide level2">
<h2>Paquetes de R</h2>
<p>Para este tema, se necesita cargar estos paquetes:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href=""></a><span class="fu">library</span>(forecast)</span>
<span id="cb1-3"><a href=""></a><span class="fu">library</span>(fpp2)</span>
<span id="cb1-4"><a href=""></a><span class="fu">library</span>(astsa)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section>
<section id="componentes-de-las-series-temporales" class="title-slide slide level1 agenda-slide center">
<h1>Componentes de las series temporales</h1>
<div class="agenda-heading">
<p>Contenido</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-active">
<p>Componentes de las series temporales</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Medias móviles</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición aditiva</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición multiplicativa</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Otras técnicas de descomposición</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición STL</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición y pronóstico</p>
</div></li>
</ol>
</div>
</section>
<section id="componentes-de-las-series-temporales-1" class="slide level2">
<h2>Componentes de las series temporales</h2>
<p>Existe varios componentes en el comportamiento de series temporales.</p>
<ol type="1">
<li><p><span class="alert">Tendencia:</span> comportamiento creciente o decreciente en largo plazo. Ej: crecimiento de población, ingresos por ventas.</p></li>
<li><p><span class="alert">Estacionalidad:</span> patrón o variaciones afectadas por repetición de una frecuencia dada (ej. semana, mes y año.). Consecuencia de cambios climáticos, comportamiento de la gente en el tiempo. Ej: venta de productos que dependen de la temporada, temperatura, pasajes de avión.</p></li>
<li><p><span class="alert">Ciclo:</span> cuando los datos muestran subidas y bajadas de largo plazo, generalmente con frecuencia desconocida. Ej: ciclo económico, período de prosperidad alternando con período de recesión.</p></li>
<li><p><span class="alert">Movimiento irregular o error:</span> variaciones en la serie que no siguen ningún patrón regular. Es el residuo que queda en una serie después de eliminar los componentes anteriores (tendencia-ciclo y estacionalidad).</p></li>
</ol>
</section>
<section id="descomposición-de-series-temporales" class="slide level2">
<h2>Descomposición de series temporales</h2>
<ul>
<li>Surgió al inicio del siglo XX.</li>
<li>Los métodos más antiguos para describir y analizar series cronológicas.</li>
<li>Los objetivos de esta metodología consisten en:
<ol type="1">
<li>Eliminar el componente de tendencia en una serie con el fin de estudiar la correlación serial entre las observaciones de la serie.</li>
<li>Separar los componentes para describir los diferentes componentes.</li>
</ol></li>
<li>Generalmente combinamos el componente de tendencia con el de ciclo, llamado tendencia-ciclo (o simplemente tendencia).</li>
<li>Veremos métodos que consisten en descomponer una serie en:
<ol type="1">
<li>tendencia-ciclo,</li>
<li>estacionalidad y</li>
<li>el componente irregular.</li>
</ol></li>
</ul>
</section>
<section id="descomposición-clásica" class="slide level2">
<h2>Descomposición Clásica</h2>
<ul>
<li><span class="alert">Modelo aditivo</span></li>
</ul>
<p><span class="math display">\[Z_{t} = T_{t} + S_{t}  + I_t,\]</span></p>
<ul>
<li><span class="alert">Modelo multiplicativo</span></li>
</ul>
<p><span class="math display">\[Z_{t} = T_{t} \times S_{t} \times I_t,\]</span> donde:<br> <span class="math inline">\(Z_t\)</span>: el valor de la serie <span class="math inline">\(Z\)</span> en el tiempo <span class="math inline">\(t\)</span>, <br> <span class="math inline">\(T_t\)</span>: componente tendencia-ciclo en el tiempo <span class="math inline">\(t\)</span>. <br> <span class="math inline">\(S_t\)</span>: componente estacional en el tiempo <span class="math inline">\(t\)</span>. <br> <span class="math inline">\(I_t\)</span>: componente irregular, aleatorio en el tiempo <span class="math inline">\(t\)</span>.</p>
</section>
<section class="slide level2">

<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Nota</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>La descomposicion aditiva es la más apropiada si la magnitud de las fluctuaciones o la variación alrededor del tendencia-ciclo no varía con el nivel de la serie de tiempo.</p></li>
<li><p>La descomposición multiplicativa se usa cuando la variación en el patrón estacional o la variación alrededor de tendencia-ciclo, parece ser proporcional al nivel de la serie de tiempo. Es común ver esto en las series del ámbito económico.</p></li>
<li><p>Utilizando la transformación logarítmica en una serie de datos, el modelo multiplicativo se convierte en un modelo aditivo. (Esto equivale a estabilizar la variabilidad a lo largo del tiempo) <span class="math display">\[Z_t=T_t \times S_t \times I_t\]</span> es equivalente a <span class="math display">\[\log Z_t = \log T_t + \log S_t + \log I_t.\]</span></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="ejemplo-de-los-pasajeros-mensuales" class="slide level2">
<h2>Ejemplo de los Pasajeros mensuales</h2>
<ul>
<li>Recordemos del ejemplo de pasajeros mensuales.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="fu">autoplot</span>(AirPassengers)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-airpassengers" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-airpassengers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="presentacion_files/figure-revealjs/fig-airpassengers-1.png" width="384">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-airpassengers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1: Pasajeros
</figcaption>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">autoplot</span>(<span class="fu">log</span>(AirPassengers)) </span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-logairpassengers" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-logairpassengers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="presentacion_files/figure-revealjs/fig-logairpassengers-1.png" width="384">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-logairpassengers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2: Log-pasajeros
</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section class="slide level2">

<ul>
<li>La descomposición consiste en descomponer la serie en diferentes componentes.</li>
</ul>

<img data-src="presentacion_files/figure-revealjs/unnamed-chunk-3-1.png" class="quarto-figure quarto-figure-center r-stretch" width="384"></section>
<section id="ejemplo-de-serie-anual-de-varva-glacial" class="slide level2 smaller">
<h2>Ejemplo de serie anual de Varva glacial</h2>
<p>Los glaciares que se derriten depositan capas anuales de arena y limo durante las temporadas de derretimiento de primavera, que pueden reconstruirse anualmente durante un período que va desde el momento en que comenzó la desglaciación en Nueva Inglaterra (hace unos 12.600 años) hasta el momento en que terminó (hace unos 6000 años). Dichos depósitos sedimentarios, llamados varvas, pueden utilizarse como sustitutos de parámetros paleoclimáticos, como la temperatura, porque, en un año cálido, se depositan más arena y limo del glaciar en retroceso.</p>
<p>Note que la variabilidad es <strong>proporcional al nivel de la serie</strong> y no al tiempo.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="fu">autoplot</span>(varve)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-varve" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-varve-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="presentacion_files/figure-revealjs/fig-varve-1.png" width="288">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-varve-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3: Varva
</figcaption>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">autoplot</span>(<span class="fu">log</span>(varve))</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-logvarge" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-logvarge-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="presentacion_files/figure-revealjs/fig-logvarge-1.png" width="288">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-logvarge-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;4: Log-varva
</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="medias-móviles" class="title-slide slide level1 agenda-slide center">
<h1>Medias móviles</h1>
<div class="agenda-heading">
<p>Contenido</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Componentes de las series temporales</p>
</div></li>
<li><div class="agenda-active">
<p>Medias móviles</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición aditiva</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición multiplicativa</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Otras técnicas de descomposición</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición STL</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición y pronóstico</p>
</div></li>
</ol>
</div>
</section>
<section id="medias-móviles-1" class="slide level2">
<h2>Medias móviles</h2>
<ul>
<li><p>El primer paso en una descomposición clásica es utilizar un método de media móvil para estimar el ciclo de tendencia.</p></li>
<li><p>Sea <span class="math inline">\(Z_t\)</span> una serie de interés. Una media móvil de orden <span class="math inline">\(m\)</span> se puede escribir como: <span class="math display">\[\begin{equation}
MA_{t} = \frac{1}{m} \sum_{j=-k}^k Z_{t+j},
\end{equation}\]</span> donde <span class="math inline">\(m = 2k+1\)</span> es impar<sup>1</sup>.</p></li>
<li><p>La estimación de tendencia-ciclo en el momento <span class="math inline">\(t\)</span> se obtiene promediando los valores de la serie temporal dentro de <span class="math inline">\(k\)</span> períodos de <span class="math inline">\(t\)</span>.</p></li>
<li><p>El promedio elimina parte de la aleatoriedad de los datos, dejando un componente tendencia-ciclo uniforme, es decir <span class="alert">suaviza</span> la serie original. A esto se le llama <span class="math inline">\(m\)</span>-<strong>MA</strong>, que significa media móvil de orden <span class="math inline">\(m\)</span>.</p></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Más adelante veremos cómo se procede con <span class="math inline">\(m\)</span> par</p></li></ol></aside></section>
<section class="slide level2">

<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>ejemploMA <span class="ot">&lt;-</span> <span class="fu">cbind</span>(AirPassengers,</span>
<span id="cb6-2"><a href=""></a>      <span class="fu">ma</span>(AirPassengers, <span class="dv">3</span>), <span class="fu">ma</span>(AirPassengers, <span class="dv">5</span>))</span>
<span id="cb6-3"><a href=""></a><span class="fu">head</span>(ejemploMA, <span class="dv">10</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>         AirPassengers ma(AirPassengers, 3) ma(AirPassengers, 5)
Jan 1949           112                   NA                   NA
Feb 1949           118             120.6667                   NA
Mar 1949           132             126.3333                122.4
Apr 1949           129             127.3333                127.0
May 1949           121             128.3333                133.0
Jun 1949           135             134.6667                136.2
Jul 1949           148             143.6667                137.6
Aug 1949           148             144.0000                137.2
Sep 1949           136             134.3333                131.0
Oct 1949           119             119.6667                125.0</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="fu">tail</span>(ejemploMA, <span class="dv">10</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>         AirPassengers ma(AirPassengers, 3) ma(AirPassengers, 5)
Mar 1960           419             423.6667                432.0
Apr 1960           461             450.6667                455.6
May 1960           472             489.3333                501.8
Jun 1960           535             543.0000                539.2
Jul 1960           622             587.6667                548.6
Aug 1960           606             578.6667                546.4
Sep 1960           508             525.0000                517.4
Oct 1960           461             453.0000                479.4
Nov 1960           390             427.6667                   NA
Dec 1960           432                   NA                   NA</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="presentacion_files/figure-revealjs/fig-MAairpassengers-1.png" width="384" class="r-stretch quarto-figure-center" id="fig-MAairpassengers"><p class="caption">
Figura&nbsp;5: Diferentes medias móviles aplicado a los datos de pasajeros
</p></section></section>
<section>
<section id="descomposición-aditiva" class="title-slide slide level1 agenda-slide center">
<h1>Descomposición aditiva</h1>
<div class="agenda-heading">
<p>Contenido</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Componentes de las series temporales</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Medias móviles</p>
</div></li>
<li><div class="agenda-active">
<p>Descomposición aditiva</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición multiplicativa</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Otras técnicas de descomposición</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición STL</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición y pronóstico</p>
</div></li>
</ol>
</div>
</section>
<section id="sec-aditiva" class="slide level2 smaller">
<h2>Descomposición aditiva</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Suponemos que el período estacional <span class="math inline">\(m\)</span> es conocido. Ej: <span class="math inline">\(m=4\)</span> para datos trimestrales, <span class="math inline">\(m=12\)</span> para datos mensuales, <span class="math inline">\(m=7\)</span> para datos diarios por semana, etc.</li>
</ul>
<p><strong>Paso I:</strong></p>
<ol type="a">
<li>Si <span class="math inline">\(m\)</span> es impar, se calcula <span class="math inline">\(m\)</span>-MA de la siguiente forma: <span class="math display">\[MA_t=\frac{Z_{t-\frac{(m-1)}{2}}+...+Z_{t}+...+Z_{t+\frac{(m-1)}{2}}}{m}\]</span></li>
<li>Si <span class="math inline">\(m\)</span> es par, se debe calcular primero <span class="math inline">\(m\)</span>-MA correspondiente al periodo <span class="math inline">\(t-\frac{1}{2}\)</span>: <span class="math display">\[MA_{1t}=\frac{Z_{t-\frac{m}{2}}+...+Z_{t}+...+Z_{t+\frac{m}{2}-1}}{m}\]</span></li>
</ol>
</div><div class="column" style="width:50%;">
<p>Luego se calcula la <span class="math inline">\(m\)</span>-MA correspondiente al periodo <span class="math inline">\(t+\frac{1}{2}\)</span>: <span class="math display">\[MA_{2t}=\frac{Z_{t-\frac{m}{2}+1}+...+Z_{t}+...+Z_{t+\frac{m}{2}}}{m}\]</span><br>
Se calcula una media móvil centrada de la siguiente forma: <span class="math display">\[MA_t=\frac{MA_{1t}+PM_{2t}}{2}.\]</span></p>
<ul>
<li><span class="math inline">\(MA_t\)</span> es la estimación del componente tendencia-ciclo <span class="math inline">\(T_t\)</span>.</li>
</ul>
</div></div>
</section>
<section class="slide level2">

<p><strong>Paso II:</strong> Calcule <span class="math inline">\(R_t=Z_t -MA_t\)</span> que es una estimación del componente estacional más el componente irregular, i.e.&nbsp;<span class="math inline">\(S_t+I_t\)</span>.</p>
<p><strong>Paso III:</strong> Para estimar el componente estacional, agrupar los valores <span class="math inline">\(R_t\)</span>, correspondientes a cada estación <span class="math inline">\(m\)</span> y calcular un promedio para cada estación. De esta forma, obtenemos los <span class="alert">índices estacionales</span>: <span class="math display">\[S^*_j,~~~j=1,...m.\]</span> Se debe ajustar estos índices para que sumen 0, y así se obtienen los <span class="alert">índices estacionales normalizados</span>. <span class="math display">\[S_j=S^*_j-\bar{S^*}\]</span> Se interpreta que la serie <span class="math inline">\(Z_t\)</span> es <span class="math inline">\(S_j\)</span> mayor (o menor) que la serie ajustada en el periodo <span class="math inline">\(j\)</span>.</p>
</section>
<section class="slide level2">

<p><strong>Paso IV:</strong> <br> Se obtiene la <span class="alert">serie ajustada estacionalmente</span>, que son los valores desestacionalizados usando <span class="math inline">\(d_t=Z_t-S_j\)</span>.</p>
<p><strong>Paso V:</strong> <br> Finalmente, se obtiene el residuo <span class="math inline">\(I_t=Z_t-T_t-S_j\)</span>.</p>
</section>
<section class="slide level2">

<p>Ejemplo 2.1 de Hernández (2011): Serie de número de contrayentes en los matrimonios celebrados en Costa Rica de 1978 a 1983.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-6-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-7-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div></div>
<p><a href="./contrayentes_Descomp_Adit.xls"><span class="button">Procedimiento en excel</span></a> y <a href="./lab.html#descomposición-aditiva"><span class="button">el Lab</span></a></p>
</section></section>
<section>
<section id="descomposición-multiplicativa" class="title-slide slide level1 agenda-slide center">
<h1>Descomposición multiplicativa</h1>
<div class="agenda-heading">
<p>Contenido</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Componentes de las series temporales</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Medias móviles</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición aditiva</p>
</div></li>
<li><div class="agenda-active">
<p>Descomposición multiplicativa</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Otras técnicas de descomposición</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición STL</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición y pronóstico</p>
</div></li>
</ol>
</div>
</section>
<section id="descomposición-multiplicativa-1" class="slide level2 smaller">
<h2>Descomposición multiplicativa</h2>
<p>Para descomponer una serie con el modelo multiplicativo:</p>
<p><strong>Paso I :</strong> Al igual que la descomposición aditiva, obtener <span class="math inline">\(MA_t\)</span> que la estimación del componente tendencia-ciclo <span class="math inline">\(T_t\)</span>. <a href="#/sec-aditiva"><span class="button">Ver diapositiva 15</span></a></p>
<p><strong>Paso II:</strong> Calcule el cociente <span class="math inline">\(C_t=\frac{Z_t}{PM_t}\)</span> que es una estimación del producto del componente estacional y el componente irregular, i.e.&nbsp;<span class="math inline">\(S_t \times I_t\)</span>.</p>
<p><strong>Paso III:</strong> Para estimar el componente estacional, agrupar los valores <span class="math inline">\(C_t\)</span>, correspondientes a cada estación <span class="math inline">\(m\)</span> y calcular un promedio para cada estación. De esta forma, obtenemos los <span class="alert">índices estacionales</span>: <span class="math display">\[S^*_j,~~~j=1,...m.\]</span> Se debe ajustar estos índices para que su producto sea 1 (media geométrica), y así se obtienen los <span class="alert">índices estacionales normalizados</span>. <span class="math display">\[S_j=\frac{S^*_j}{\bar{S^*_G}}.\]</span></p>
</section>
<section class="slide level2">

<p><strong>Paso IV:</strong> <br> Se obtiene la <span class="alert">serie ajustada estacionalmente</span>, que son los valores desestacionalizados usando <span class="math inline">\(d_t=\frac{Z_t}{S_j}\)</span>.</p>
<p><strong>Paso V:</strong> <br> Finalmente, se obtiene el residuo <span class="math inline">\(I_t=\frac{Z_t}{T_t S_j}\)</span>.</p>
</section>
<section class="slide level2">

<p>Ejemplo 2.3 de Hernández (2011): serie mensual del número de turistas que ingresaron a Costa Rica de 1991 a 2000.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-8-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-9-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div></div>
<p><a href="./Turistas_Descomp_Mullt.xls"><span class="button">Procedimiento en excel</span></a> y <a href="./lab.html#descomposición-multiplicativa"><span class="button">el Lab</span></a></p>
</section>
<section id="descomposición-clásica-1" class="slide level2">
<h2>Descomposición Clásica</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Nota</strong></p>
</div>
<div class="callout-content">
<ul>
<li>La estimación de la tendencia no se puede realizar para las primeras y últimas observaciones.</li>
<li>Supone que el componente estacional repite de forma constante (aditiva o multiplicativa) a lo largo del tiempo.
<ul>
<li>Ej: la demanda eléctrica puede variar el comportamiento con las nuevas tecnologías como el aire acondicionado.</li>
</ul></li>
<li>La descomposición clásica no es apta para series que presentan variaciones a lo largo del periodo.</li>
</ul>
</div>
</div>
</div>
</section></section>
<section>
<section id="otras-técnicas-de-descomposición" class="title-slide slide level1 agenda-slide center">
<h1>Otras técnicas de descomposición</h1>
<div class="agenda-heading">
<p>Contenido</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Componentes de las series temporales</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Medias móviles</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición aditiva</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición multiplicativa</p>
</div></li>
<li><div class="agenda-active">
<p>Otras técnicas de descomposición</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición STL</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición y pronóstico</p>
</div></li>
</ol>
</div>
</section>
<section id="otras-técnicas-de-descomposición-1" class="slide level2">
<h2>Otras técnicas de descomposición</h2>
<ul>
<li>Existe una gran variedad de técnicas modificando formas de estimar la tendencia y la estacionalidad. Ej: X11, X11-ARIMA, X12-ARIMA, etc.</li>
<li>La mayoría de ellas son desarrolladas por las agencias oficiales del censo de EU para realizar descomposición de series oficiales.</li>
<li>Al igual que la descomposición clásica, son útiles para analizar series mensuales o trimestrales. Sin embargo, para datos diarios u horarios no son útiles (se necesitan otras metodologías).</li>
<li>Utilizan otros criterios como media móvil ponderada.</li>
</ul>
</section></section>
<section>
<section id="descomposición-stl" class="title-slide slide level1 agenda-slide center">
<h1>Descomposición STL</h1>
<div class="agenda-heading">
<p>Contenido</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Componentes de las series temporales</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Medias móviles</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición aditiva</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición multiplicativa</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Otras técnicas de descomposición</p>
</div></li>
<li><div class="agenda-active">
<p>Descomposición STL</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Descomposición y pronóstico</p>
</div></li>
</ol>
</div>
</section>
<section id="descomposición-stl-1" class="slide level2">
<h2>Descomposición STL</h2>
<ul>
<li>Propuesto por <a href="https://www.scb.se/contentassets/ca21efb41fee47d293bbee5bf7be7fb3/stl-a-seasonal-trend-decomposition-procedure-based-on-loess.pdf">Cleveland et al.&nbsp;(1990)</a></li>
<li>Seasonal and trend descomposition using loess (en inglés).</li>
<li>LOESS (locally weighted smoothing), también llamado LOWESS (Locally Weighted Scatterplot Smoothing), es una técnica de regresión no lineal.</li>
<li>Localmente ajusta regresión lineal y crea una curva suave en el tiempo para estimar la tendencia.</li>
<li>Ventajas:
<ul>
<li>el componente estacional puede variar en el tiempo.</li>
<li>permite el control del grado de suavizamiento.</li>
<li>es robusto a los outliers.</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a>y.stl1<span class="ot">&lt;-</span><span class="fu">stl</span>(y,<span class="at">t.window=</span><span class="dv">20</span>, </span>
<span id="cb10-2"><a href=""></a>            <span class="at">s.window=</span><span class="st">"periodic"</span>, <span class="at">robust=</span><span class="cn">TRUE</span>)</span>
<span id="cb10-3"><a href=""></a><span class="fu">plot</span>(y.stl1)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-10-1.png" width="384"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a>y.stl2<span class="ot">&lt;-</span><span class="fu">stl</span>(y,<span class="at">t.window=</span><span class="dv">5</span>, </span>
<span id="cb11-2"><a href=""></a>            <span class="at">s.window=</span><span class="st">"periodic"</span>, <span class="at">robust=</span><span class="cn">TRUE</span>)</span>
<span id="cb11-3"><a href=""></a><span class="fu">plot</span>(y.stl2)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-11-1.png" width="384"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section class="slide level2">

<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a>y.stl1<span class="ot">&lt;-</span><span class="fu">stl</span>(y, <span class="at">s.window=</span><span class="st">"periodic"</span>, <span class="at">robust=</span><span class="cn">TRUE</span>)</span>
<span id="cb12-2"><a href=""></a><span class="fu">plot</span>(y.stl1)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-12-1.png" width="384"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>y.stl2<span class="ot">&lt;-</span><span class="fu">stl</span>(y, <span class="at">s.window=</span> <span class="dv">7</span>, <span class="at">robust=</span><span class="cn">TRUE</span>)</span>
<span id="cb13-2"><a href=""></a><span class="fu">plot</span>(y.stl2)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="presentacion_files/figure-revealjs/unnamed-chunk-13-1.png" width="384"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="descomposición-y-pronóstico" class="title-slide slide level1 agenda-slide center">
<h1>Descomposición y pronóstico</h1>
<div class="agenda-heading">
<p>Contenido</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Componentes de las series temporales</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Medias móviles</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición aditiva</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición multiplicativa</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Otras técnicas de descomposición</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Descomposición STL</p>
</div></li>
<li><div class="agenda-active">
<p>Descomposición y pronóstico</p>
</div></li>
</ol>
</div>
</section>
<section id="descomposición-y-pronóstico-1" class="slide level2">
<h2>Descomposición y pronóstico</h2>
<ul>
<li>Proyectar al futuro con los componentes individuales de la serie.</li>
<li>El componente tendencia-ciclo se estima con una función simple (línea recta, cuadrática, etc.).</li>
<li>El componente estacional se estima con el componente estacional del último periodo de los datos.</li>
<li>El componente irregular se puede proyectar como 0 (modelo aditivo) y como 1 (modelo multiplicativo), si no está correlacionado (ruido blanco).</li>
</ul>
</section>
<section id="evaluación-de-los-pronósticos-de-un-modelo" class="slide level2">
<h2>Evaluación de los pronósticos de un modelo</h2>
<ul>
<li><p>Sean <span class="math inline">\(Z_1,...,Z_T\)</span> las observaciones y <span class="math inline">\(\hat{Z}_1,...,\hat{Z}_T\)</span> los valores ajustados de un modelo particular.</p></li>
<li><p>Defina el error de pronóstico <span class="math display">\[e_t=Z_t- \hat{Z}_t\]</span> <strong>Algunas consideraciones:</strong></p></li>
<li><p>¿Son correlacionados?</p></li>
<li><p>¿Tienen media cero?</p></li>
<li><p>¿Variancia constante?</p></li>
<li><p>¿Tienen distribución normal?</p></li>
</ul>
</section>
<section id="medidas-de-precisión" class="slide level2">
<h2>Medidas de precisión</h2>
<p>Suponga que se tiene una serie <span class="math inline">\(Z_t\)</span> de <span class="math inline">\(T\)</span> observaciones.</p>
<ul>
<li><p>Dividir las observaciones en <span class="math inline">\(Z_1,...,Z_{T-1}\)</span> y <span class="math inline">\(Z_{T}\)</span>.</p></li>
<li><p>Ajustar el modelo con <span class="math inline">\(Z_1,...,Z_{T-1}\)</span> y pronosticar el valor de <span class="math inline">\(\hat{Z}_{T}\)</span>.</p></li>
<li><p>El error de pronóstico es definido por <span class="math display">\[e_T=Z_T- \hat{Z}_T\]</span></p></li>
<li><p><span class="math inline">\(\hat{Z}_{T}\)</span> es llamado <span class="alert">pronóstico un paso para adelante</span>.</p></li>
<li><p><span class="math inline">\(e_{T}\)</span> es llamado <span class="alert">error de pronóstico un paso para adelante</span>.</p></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li><p>En la práctica, se divide la serie <span class="math inline">\(Z_t\)</span>, <span class="math inline">\(t=1,...,T\)</span> en dos conjuntos:</p>
<ul>
<li><span class="alert">Base de datos de entrenamiento</span> <span class="math inline">\(Z_1,...,Z_{T'}\)</span> (para ajustar el modelo)</li>
<li><span class="alert">Base de datos de prueba</span> <span class="math inline">\(Z_{T'+1},...,Z_{T'+h}\)</span> (para validar el modelo)</li>
</ul></li>
</ul>
<p>donde <span class="math inline">\(1&lt; T'&lt; T\)</span>. Usualmente <span class="math inline">\(h/T \approx 0.2\)</span> o <span class="math inline">\(0.1\)</span>.</p>
<ul>
<li>Ajustar el modelo con <span class="math inline">\(Z_1,...,Z_{T'}\)</span> y pronosticar los valores de <span class="math inline">\(\hat{Z}_{T'+1},...,\hat{Z}_{T'+h}\)</span> (<span class="alert">pronóstico a <span class="math inline">\(h\)</span> paso para adelante</span>).</li>
<li>Definan las siguientes medidas:
<ul>
<li><span class="alert">Error absoluto medio (mean absolute error, MAE)</span> <span class="math display">\[\operatorname{MAE} = \frac{\sum\limits_{i=1}^h |e_{T+i}|}{h}\]</span></li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li><p><span class="alert">Error cuadrático medio (mean squared error, MSE)</span> <span class="math display">\[\operatorname{MSE} = \frac{\sum\limits_{i=1}^h (e_{T+i})^2}{h}\]</span></p></li>
<li><p><span class="alert">Error porcentual absoluto medio (mean absolute percentage error, MAPE)</span> <span class="math display">\[\operatorname{MAPE} = \frac{\sum\limits_{i=1}^h |EP_{T+i}|}{h}\]</span> donde <span class="math inline">\(EP_{j}=100 \left[ \frac{Z_j-\hat{Z_j}}{Z_j} \right]\)</span>.</p></li>
</ul>
<p><a href="./lab.html#pronósticos"><span class="button">el Lab</span></a></p>

</section></section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="presentacion_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="presentacion_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="presentacion_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="presentacion_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"right","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true,"width":"wide","numbers":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copiado");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copiado");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>